#!/usr/bin/python3
import sys

instructions = ["live", "ld", "st", "add", "sub", "and",
                "or", "xor", "zjump", "ldi", "sti",
                "fork", "lld", "lldi", "lfork", "aff"]

def compile(instruct, params):
    hexa = []
    hexa.append(hex(instructions.index(instruct) + 1))
    b = ""
    for param in params:
        if param[0] == "r":
            hexa.append(hex(int(param[1:])))
            b += "01"
        elif param[0] == "%":
            hexa.append(hex(0))
            hexa.append(hex(0))
            hexa.append(hex(0))
            hexa.append(hex(int(param[1:])))
            b += "10"
        else:
            hexa.append(hex(0))
            hexa.append(hex(int(param[:])))
            b += "11"
    b += "0" * max(0, 8 - len(b))
    hexa.insert(1, hex(int(b, 2)))
    print(",".join(hexa))

compile(sys.argv[1], sys.argv[2:])
